"use strict";

toggleWidgetLowerPart();
toggleSidebar();
toggleWidgetOptionsVisibility();

function toggleScroll() {
  var body = document.querySelector('body');
  body.classList.toggle('body--inactive');
}

function toggleWidgetLowerPart() {
  var arrow = document.querySelectorAll('.widget__arrow'),
      activationClass = 'widget__lower--inactive';
  arrow.forEach(function (elem) {
    elem.addEventListener('click', function (ev) {
      ev.target.parentNode.nextElementSibling.classList.toggle(activationClass);
    });
  });
}

function toggleSidebar() {
  var sidebar = document.querySelector('.sidebar'),
      btnOpen = document.querySelector('.header__btn'),
      btnClose = document.querySelector('.sidebar__btn--close'),
      activationClass = 'sidebar--active';
  btnOpen.addEventListener('click', function () {
    sidebar.classList.add(activationClass);
    toggleScroll();
  });
  btnClose.addEventListener('click', function () {
    sidebar.classList.remove(activationClass);
    toggleScroll();
  });
}

function toggleWidgetOptionsVisibility() {
  var btn = document.querySelector('.widget-options__btn'),
      hiddenItems = document.querySelector('.widget-options__hidden-items'),
      activationClass = 'widget-options__hidden-items--active';
  btn.addEventListener('click', function (ev) {
    ev.preventDefault();
    hiddenItems.classList.toggle(activationClass);
  });
}